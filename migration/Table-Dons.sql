CREATE TABLE Dons (
    code_Don INT PRIMARY KEY,
    code_Entite_donatrice INT,
    date_proposition_don DATE NOT NULL,
    code_contact_Entite_donatrice INT,
    code_type_don CHAR(4) NOT NULL,
    code_type_competences CHAR(4),
    code_type_produits CHAR(4),
    code_mode_conservation_produits CHAR(4),
    date_debut_mise_disposition DATE,
    date_fin_mise_disposition DATE,
    commentaires VARCHAR(200),
    pieces_associees BLOB,
    code_Utilisateur_saisie_don INT NOT NULL,
    statut_acceptation_don ENUM('Valide', 'Refuse'),
    date_acceptation_refus_don DATE,
    type_date_acceptation_refus ENUM('A', 'R'),
    code_Utilisateur_accepte_refuse_don INT,
    code_site_beneficiaire_don INT,
    FOREIGN KEY (code_Entite_donatrice) REFERENCES Entite(code_Entite),
    FOREIGN KEY (code_contact_Entite_donatrice) REFERENCES ContactEntite(code_contact_entite),
    FOREIGN KEY (code_type_don) REFERENCES TypesDons(code_type_don),
    FOREIGN KEY (code_type_competences) REFERENCES TypesCompetences(code_type_competence),
    FOREIGN KEY (code_type_produits) REFERENCES TypesProduits(code_type_produits),
    FOREIGN KEY (code_mode_conservation_produits) REFERENCES ModeConservationProduits(code_mode_conservation_produits),
    FOREIGN KEY (code_Utilisateur_saisie_don) REFERENCES Utilisateurs(code_utilisateur),
    FOREIGN KEY (code_Utilisateur_accepte_refuse_don) REFERENCES Utilisateurs(code_utilisateur),
    FOREIGN KEY (code_site_beneficiaire_don) REFERENCES Sites(code_site)
);
INSERT INTO Dons (
    code_Don,
    code_Entite_donatrice,
    date_proposition_don,
    code_contact_Entite_donatrice,
    code_type_don,
    code_type_competences,
    code_type_produits,
    code_mode_conservation_produits,
    date_debut_mise_disposition,
    date_fin_mise_disposition,
    commentaires,
    pieces_associees,
    code_Utilisateur_saisie_don,
    statut_acceptation_don,
    date_acceptation_refus_don,
    type_date_acceptation_refus,
    code_Utilisateur_accepte_refuse_don,
    code_site_beneficiaire_don
) VALUES 
(1, 101, '2023-01-01', 201, 'T001', 'C001', 'P001', 'M001', '2023-02-01', '2023-12-31', 'Don de compétences techniques', NULL, 301, 'Valide', '2023-01-15', 'A', 302, 401),
(2, 102, '2023-02-01', 202, 'T002', 'C002', 'P002', 'M002', '2023-03-01', '2023-11-30', 'Don de produits alimentaires', NULL, 303, 'Valide', '2023-02-15', 'A', 304, 402),
(3, 103, '2023-03-01', 203, 'T003', 'C003', 'P003', 'M003', '2023-04-01', '2023-10-31', 'Don de services juridiques', NULL, 305, 'Refuse', '2023-03-15', 'R', 306, 403),
(4, 104, '2023-04-01', 204, 'T004', 'C004', 'P004', 'M004', '2023-05-01', '2023-09-30', 'Don de matériel informatique', NULL, 307, 'Valide', '2023-04-15', 'A', 308, 404),
(5, 105, '2023-05-01', 205, 'T005', 'C005', 'P005', 'M005', '2023-06-01', '2023-08-31', 'Don de vêtements', NULL, 309, 'Refuse', '2023-05-15', 'R', 310, 405);
